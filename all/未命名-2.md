```mermaid
flowchart TD
subgraph b2n_submit
    direction LR
    c1{"If no tar_blk"} --yes--> c2([return false])
    c1 --> c3{"if mode =
    B2N_SEND_TILL_PARITY_DIE"}
    c3 --yes--> c4["RAIDECC related check"]
    c3 --no---> c5{"if mode =
    B2N_SEND_TILL_MULTIPLE_PARITY_DIE"}
    c5 --yes--> c4["RAIDECC related check"]
    c5 --no--> c6["get next pba from cur_pba"]
    c4 --"ch"
end
```